{% extends "layout.html" %}

{% block bodyclasses %}{{ super() }}blog{% endblock %}

{% block title %}Blog{% endblock %}

{% block feature %}
  <section class="feature">
    {% include "_shows.html" %}
  </section>
{% endblock feature %}

{% block body %}

  {%- for ctx in pagination.get_slice() %}
  <article class="post">
    <h1 class="title">
      <a href="{{ link_to('page', slug=ctx.slug) }}">
        {{ ctx.title }}
      </a>
    </h1>

    {% include "_byline.html" %}

    <div class="body">
      {% if ctx.summary %}
        {{ ctx.render_summary() }}
        <a href="{{ link_to('page', slug=ctx.slug) }}" class="readmore">
          read more
        </a>
      {% else %}
        {{ ctx.render_contents() }}
      {% endif %}
    </div>
  </article>
  {%- endfor %}

  {% if show_pagination and pagination.pages > 1 %}
    {{ pagination }}
  {% endif %}
{% endblock %}
